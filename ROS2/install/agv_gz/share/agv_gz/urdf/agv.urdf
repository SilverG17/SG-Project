<?xml version="1.0"?>
<robot name = "agv_model">

    <material name = "White">
        <color rgba="0.9 0.9 0.9 1.0"/>
    </material>

    <material name = "Grey">
        <color rgba = "0.8 0.7 0.8"/>
    </material>

    <material name = "Red">
        <color rgba = "0.9 0.0 0.0 1.0"/>
    </material>

    <material name = "Green">
        <color rgba = "0.0 0.9 0.0 1.0"/>
    </material>

    <material name = "Blue">
        <color rgba = "0.0 0.0 0.9 1.0"/>
    </material>

    <link name = "base_footprint"/>

    <link name = "base_link">
        <visual>
            <geometry>
                <box size="0.7 0.5 0.2"/>  
            </geometry>
            <origin xyz="0.0 0.0 0.1" rpy="0.0 0.0 0.0"/>  
            <material name = "White"/>
        </visual>
    </link>

    <link name = "second_link">
        <visual>
            <geometry>
                <box size = "0.3 0.34 0.06"/>
            </geometry>
            <origin xyz = "-0.15 0.0 0.035" rpy="0.0 0.0 0.0"/>
            <material name = "Blue"/>
        </visual>
    </link>

    <link name = "third_link">
        <visual>
            <geometry>
                <cylinder radius="0.01" length="0.08"/>
            </geometry>
            <origin xyz = "-0.018 0 0.04" rpy = "0 0 0"/>
            <material name = "Red"/>
        </visual>
    </link>

    <link name = "fourth_link">
        <visual>
            <geometry>
                <cylinder radius="0.01" length="0.08"/>
            </geometry>
            <origin xyz = "-0.018 0 0.04" rpy = "0 0 0"/>
            <material name = "Red"/>
        </visual>
    </link>

    <link name = "fifth_link">
        <visual>
            <geometry>
                <cylinder radius="0.01" length="0.08"/>
            </geometry>
            <origin xyz = "0.018 0 0.04" rpy = "0 0 0"/>
            <material name = "Red"/>
        </visual>
    </link>

    <link name = "sixth_link">
        <visual>
            <geometry>
                <cylinder radius="0.01" length="0.08"/>
            </geometry>
            <origin xyz = "0.018 0 0.04" rpy = "0 0 0"/>
            <material name = "Red"/>
        </visual>
    </link>

    <link name = "seventh_link">
        <visual>
            <geometry>
                 <box size="0.7 0.5 0.01"/>  
            </geometry>
            <origin xyz = "-0.35 0 0.02" rpy = "0 0 0"/>
            <material name = "White"/>
        </visual>
    </link>

    <link name="right_wheel_link">
        <visual>
            <geometry>
                <cylinder radius="0.08" length="0.02"/>
            </geometry>
            <!-- rotate cylinder so it's horizontal -->
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
            <material name="Grey"/>
        </visual>
    
        <collision>
            <geometry>
                <cylinder radius="0.08" length="0.02"/>
            </geometry>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
        </collision>
    
        <inertial>
            <mass value="0.5"/>
            <inertia ixx="0.001" iyy="0.001" izz="0.001"
                     ixy="0.0" ixz="0.0" iyz="0.0"/>
        </inertial>
    </link>    
    

    <link name = "right_front_caster_link">
        <visual>
            <geometry>
                <cylinder radius="0.02" length="0.05"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "White"/>
        </visual>
    </link>

    <link name = "right_front_caster_wheel_link">
        <visual>
            <geometry>
                <sphere radius="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>

    <link name = "right_back_caster_link">
        <visual>
            <geometry>
                <cylinder radius="0.02" length="0.05"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "White"/>
        </visual>
    </link>

    <link name = "right_back_caster_wheel_link">
        <visual>
            <geometry>
                <sphere radius="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>

    <link name = "left_wheel_link">
        <visual>
            <geometry>
                <cylinder radius="0.08" length="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy = "0 1.57 0"/>
            <material name = "Grey"/>
        </visual>
        <collision>
            <geometry>
              <cylinder radius="0.08" length="0.02"/>
            </geometry>
            <origin xyz="0 0 0" rpy="0 1.57 0"/>
        </collision>
          
        <inertial>
            <mass value="0.5"/>
            <inertia ixx="0.001" iyy="0.001" izz="0.001"
                ixy="0.0" ixz="0.0" iyz="0.0"/>
        </inertial>
          
    </link>

    <link name = "left_front_caster_link">
        <visual>
            <geometry>
                <cylinder radius="0.02" length="0.05"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "White"/>
        </visual>
    </link>

    <link name = "left_front_caster_wheel_link">
        <visual>
            <geometry>
                <sphere radius="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>

    <link name = "left_back_caster_link">
        <visual>
            <geometry>
                <cylinder radius="0.02" length="0.05"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "White"/>
        </visual>
    </link>

    <link name = "left_back_caster_wheel_link">
        <visual>
            <geometry>
                <sphere radius="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>

    <link name = "right_bush_link">
        <visual>
            <geometry>
                 <sphere radius="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>

    <link name = "left_bush_link">
        <visual>
            <geometry>
                 <sphere radius="0.02"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>

    <link name = "camera_base_link">
        <visual>
            <geometry>
                <box size = "0.02 0.1 0.04"/>
            </geometry>
            <origin xyz = "0.02 0 0.02" rpy="0 0 0"/>
            <material name = "Blue"/>
        </visual>
    </link>

    <link name = "camera_link">
        <visual>
            <geometry>
                 <sphere radius="0.016"/>
            </geometry>
            <origin xyz = "0 0 0" rpy ="0 0 0"/>
            <material name = "Grey"/>
        </visual>
    </link>





    <joint name = "base_joint" type = "fixed">
        <parent link = "base_footprint"/>
        <child link = "base_link"/>
        <origin xyz="0 0 0.08" rpy="0 0 0"/>
    </joint>

    <joint name = "base_second_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "second_link"/>
        <origin xyz="0.35 0 0.2 " rpy = "0 0 0"/>
    </joint>

    <joint name = "second_third_joint" type = "fixed">
        <parent link = "second_link"/>
        <child link = "third_link"/>
        <origin xyz="0.0 0.23 0" rpy="0 0 0"/>
    </joint>

    <joint name = "second_fourth_joint" type = "fixed">
        <parent link = "second_link"/>
        <child link = "fourth_link"/>
        <origin xyz="0.0 -0.23 0" rpy="0 0 0"/>
    </joint>

    <joint name = "second_fifth_joint" type = "fixed">
        <parent link = "second_link"/>
        <child link = "fifth_link"/>
        <origin xyz="-0.7 -0.23 0" rpy="0 0 0"/>
    </joint>

    <joint name = "second_sixth_joint" type = "fixed">
        <parent link = "second_link"/>
        <child link = "sixth_link"/>
        <origin xyz="-0.7 0.23 0" rpy="0 0 0"/>
    </joint>

    <joint name = "second_seventh_joint" type = "fixed">
        <parent link = "second_link"/>
        <child link = "seventh_link"/>
        <origin xyz="0 0 0.06" rpy="0 0 0"/>
    </joint>

    <joint name = "right_wheel_base_joint" type = "continuous">
        <parent link = "base_link"/>
        <child link = "right_wheel_link"/>
        <origin xyz="0 0.25 0" rpy="0 0 1.57"/>   <!-- Rotate around Y so cylinder axis points sideways -->
        <axis xyz="1 0 0"/>   <!-- Wheel spins around Y -->        
    </joint>

    <joint name = "right_front_caster_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "right_front_caster_link"/>
        <origin xyz="-0.31 -0.22 -0.025" rpy="0 0 0"/>
    </joint>

     <joint name = "wheel_right_front_caster_base_joint" type = "fixed">
        <parent link = "right_front_caster_link"/>
        <child link = "right_front_caster_wheel_link"/>
        <origin xyz="0 0 -0.025" rpy="0 0 0"/>
    </joint>

    <joint name = "right_back_caster_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "right_back_caster_link"/>
        <origin xyz="0.31 -0.22 -0.025" rpy="0 0 0"/>
    </joint>

     <joint name = "wheel_right_back_caster_base_joint" type = "fixed">
        <parent link = "right_back_caster_link"/>
        <child link = "right_back_caster_wheel_link"/>
        <origin xyz="0 0 -0.025" rpy="0 0 0"/>
    </joint>

    <joint name = "left_wheel_base_joint" type = "continuous">
        <parent link = "base_link"/>
        <child link = "left_wheel_link"/>
        <origin xyz="0 -0.25 0" rpy="0 0 1.57"/>
        <axis xyz="1 0 0"/>        
    </joint>

    <joint name = "left_front_caster_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "left_front_caster_link"/>
        <origin xyz="-0.31 0.22 -0.025" rpy="0 0 0"/>
    </joint>

     <joint name = "wheel_left_front_caster_base_joint" type = "fixed">
        <parent link = "left_front_caster_link"/>
        <child link = "left_front_caster_wheel_link"/>
        <origin xyz="0 0 -0.025" rpy="0 0 0"/>
    </joint>

    <joint name = "left_back_caster_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "left_back_caster_link"/>
        <origin xyz="0.31 0.22 -0.025" rpy="0 0 0"/>
    </joint>

     <joint name = "wheel_left_back_caster_base_joint" type = "fixed">
        <parent link = "left_back_caster_link"/>
        <child link = "left_back_caster_wheel_link"/>
        <origin xyz="0 0 -0.025" rpy="0 0 0"/>
    </joint>

    <joint name = "right_bush_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "right_bush_link"/>
        <origin xyz="-0.345 0.15 0.04" rpy="0 0 0"/>
    </joint>
    
    <joint name = "left_bush_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "left_bush_link"/>
        <origin xyz="-0.345 -0.15 0.04" rpy="0 0 0"/>
    </joint>

    <joint name = "camera_base_base_joint" type = "fixed">
        <parent link = "base_link"/>
        <child link = "camera_base_link"/>
        <origin xyz="-0.35 0 0.2" rpy="0 0 0"/>
    </joint>

    <joint name = "camera_camera_base_joint" type = "fixed">
        <parent link = "camera_base_link"/>
        <child link = "camera_link"/>
        <origin xyz="0.011 0 0.018" rpy="0 0 0"/>
    </joint>

</robot>
